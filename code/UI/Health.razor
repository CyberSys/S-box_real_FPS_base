@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct; 
@using System;
@namespace MyGame
@inherits Sandbox.UI.Panel
<style>
	Health{
		position: absolute;
		bottom: 5%;
		left: 5%;
		width: 15%;
		height: 10px;
		background-color: rgba(0,0,0,0.7);
		padding: 1px;
		border-radius: 2px;
	}

	.template {
		position: absolute;
		color: rgba(200,200,200, 1);
		font-size: 35px;
	}

	.healthfill {
		width: 100%;
		height: 100%;
		background-color: rgba(190,0,0,0.7);
	}
</style>

<root>
	<label class="template">use mouse wheel to switch weapon. press F to spawn template item | github repository on assetparty page</label>
	<div class="healthfill" style="width: @(GetHealth())%"></div>
</root> 

@code {

	public int GetHealth()
	{
		var pawn = Game.LocalPawn;
		if (pawn == null) return 0;

		return (int)pawn.Health;
	}
	protected override int BuildHash()
	{
		var currentHealth = GetHealth();
		return currentHealth.GetHashCode();
		
	}
}
